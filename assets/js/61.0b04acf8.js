(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{348:function(r,e,t){"use strict";t.r(e);var a=t(10),o=Object(a.a)({},(function(){var r=this,e=r._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":r.$parent.slotKey}},[e("h1",{attrs:{id:"js异常处理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#js异常处理"}},[r._v("#")]),r._v(" JS异常处理")]),r._v(" "),e("h2",{attrs:{id:"异常分类"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#异常分类"}},[r._v("#")]),r._v(" 异常分类")]),r._v(" "),e("p",[r._v("ECMA-262 中定义了下列7种错误类型：")]),r._v(" "),e("ul",[e("li",[r._v("Error：错误的基类，其他错误都继承自该类型")]),r._v(" "),e("li",[r._v("EvalError：Eval函数执行异常")]),r._v(" "),e("li",[r._v("RangError: 数组越界")]),r._v(" "),e("li",[r._v("ReferenceError：尝试引用一个未被定义的变量时，将会抛出此异常")]),r._v(" "),e("li",[r._v("SyntaxError：语法解析不合理")]),r._v(" "),e("li",[r._v("TypeError：类型错误，用来表示值的类型非预期类型时发生的错误")]),r._v(" "),e("li",[r._v("URIError：以一种错误的方式使用全局URI处理函数而产生的错误")])]),r._v(" "),e("h2",{attrs:{id:"异常处理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#异常处理"}},[r._v("#")]),r._v(" 异常处理")]),r._v(" "),e("ul",[e("li",[r._v("try-catch")])]),r._v(" "),e("p",[r._v("需根据不同的业务场景采用不同的处理策略")]),r._v(" "),e("h2",{attrs:{id:"异常捕获"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#异常捕获"}},[r._v("#")]),r._v(" 异常捕获")]),r._v(" "),e("ul",[e("li",[e("code",[r._v("try-catch")])]),r._v(" "),e("li",[e("code",[r._v("window.onerror")])]),r._v(" "),e("li",[e("code",[r._v("window.addEventListener('error', e => {})")])]),r._v(" "),e("li",[e("code",[r._v("window.addEventListener('unhandledrejection', e => {})")])]),r._v(" "),e("li",[e("code",[r._v("vue.config.errorHandler = () => {}")])]),r._v(" "),e("li",[e("code",[r._v("react errorBoundry错误边界组件包裹")])])]),r._v(" "),e("p",[e("a",{attrs:{href:"https://codepen.io/RealAaron/pen/MWvrWGW?editors=1010",target:"_blank",rel:"noopener noreferrer"}},[r._v("codepen-异常捕获示例"),e("OutboundLink")],1)]),r._v(" "),e("h2",{attrs:{id:"总结"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[r._v("#")]),r._v(" 总结")]),r._v(" "),e("ul",[e("li",[r._v("可疑区域增加 "),e("code",[r._v("try-catch")])]),r._v(" "),e("li",[r._v("全局监控 JS 异常 "),e("code",[r._v("window.onerror")])]),r._v(" "),e("li",[r._v("全局监控静态资源异常 "),e("code",[r._v("window.addEventListener('error')")])]),r._v(" "),e("li",[r._v("捕获没有 catch 的 Promise 异常用 "),e("code",[r._v("window.addEventListener('unhandledrejection')")])]),r._v(" "),e("li",[e("code",[r._v("Vue.configerrorHandler")]),r._v(" 和 React errorBoundry错误边界组件 "),e("code",[r._v("componentDidCatch")])]),r._v(" "),e("li",[r._v("Axios 请求统一异常处理用拦截器 interceptors")]),r._v(" "),e("li",[r._v("使用日志监控服务收集用户错误信息")])]),r._v(" "),e("h2",{attrs:{id:"参考"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[r._v("#")]),r._v(" 参考")]),r._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://segmentfault.com/a/1190000022607559",target:"_blank",rel:"noopener noreferrer"}},[r._v("从 0 到 1 搭建前端异常监控系统"),e("OutboundLink")],1)]),r._v(" "),e("li",[e("a",{attrs:{href:"https://segmentfault.com/a/1190000039264963",target:"_blank",rel:"noopener noreferrer"}},[r._v("前端异常的捕获与处理"),e("OutboundLink")],1)]),r._v(" "),e("li",[e("a",{attrs:{href:"https://segmentfault.com/a/1190000022977773",target:"_blank",rel:"noopener noreferrer"}},[r._v("你不知道的前端异常处理（万字长文，建议收藏）"),e("OutboundLink")],1)])])])}),[],!1,null,null,null);e.default=o.exports}}]);