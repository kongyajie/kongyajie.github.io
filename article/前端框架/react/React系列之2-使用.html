<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>React系列之2-使用 | 前端AK君</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/favicon.ico">
    <script>
      var _hmt = _hmt || [];
      (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?e864a64a0fefae1239747c553f0d6579";
        var s = document.getElementsByTagName("script")[0]; 
        s.parentNode.insertBefore(hm, s);
      })();
    </script>
    <script src="https://cdn-go.cn/aegis/aegis-sdk/latest/aegis.min.js"></script>
    <script>
      var aegis = new Aegis({
        id: 'yaoVL8AlJ1zqMDq4dG', // 上报 id
        uin: 'xxx', // 用户唯一 ID（可选）
        reportApiSpeed: true, // 接口测速
        reportAssetSpeed: true, // 静态资源测速
        spa: true // spa 应用页面跳转的时候开启 pv 计算
      });
    </script>
    <meta name="description" content="系统性学习，打造完善的知识体系">
    
    <link rel="preload" href="/assets/css/0.styles.30ce95d4.css" as="style"><link rel="preload" href="/assets/js/app.a2d0ac2d.js" as="script"><link rel="preload" href="/assets/js/2.6d2266aa.js" as="script"><link rel="preload" href="/assets/js/85.7d57722c.js" as="script"><link rel="prefetch" href="/assets/js/10.a56f3f8d.js"><link rel="prefetch" href="/assets/js/100.13a2d5e4.js"><link rel="prefetch" href="/assets/js/101.766996fe.js"><link rel="prefetch" href="/assets/js/102.263781e6.js"><link rel="prefetch" href="/assets/js/103.192765b9.js"><link rel="prefetch" href="/assets/js/104.8280cd3d.js"><link rel="prefetch" href="/assets/js/105.3ad0084c.js"><link rel="prefetch" href="/assets/js/106.0344c291.js"><link rel="prefetch" href="/assets/js/107.80e4eaf9.js"><link rel="prefetch" href="/assets/js/108.95402323.js"><link rel="prefetch" href="/assets/js/109.e42d7c45.js"><link rel="prefetch" href="/assets/js/11.c0cc9e98.js"><link rel="prefetch" href="/assets/js/110.fe64548d.js"><link rel="prefetch" href="/assets/js/111.78281284.js"><link rel="prefetch" href="/assets/js/112.eccae065.js"><link rel="prefetch" href="/assets/js/113.458fbd21.js"><link rel="prefetch" href="/assets/js/114.3157d04b.js"><link rel="prefetch" href="/assets/js/115.9a08b5bf.js"><link rel="prefetch" href="/assets/js/116.98c14a80.js"><link rel="prefetch" href="/assets/js/117.c99eb6ef.js"><link rel="prefetch" href="/assets/js/118.9415eb32.js"><link rel="prefetch" href="/assets/js/119.8677a924.js"><link rel="prefetch" href="/assets/js/12.ada7d686.js"><link rel="prefetch" href="/assets/js/120.90c94c3f.js"><link rel="prefetch" href="/assets/js/121.289ff03f.js"><link rel="prefetch" href="/assets/js/122.163e6cf3.js"><link rel="prefetch" href="/assets/js/123.6cf64cab.js"><link rel="prefetch" href="/assets/js/124.4fbd6264.js"><link rel="prefetch" href="/assets/js/125.8f408d49.js"><link rel="prefetch" href="/assets/js/126.fecd9dfa.js"><link rel="prefetch" href="/assets/js/127.fff3baac.js"><link rel="prefetch" href="/assets/js/128.9006ec12.js"><link rel="prefetch" href="/assets/js/129.bd73fd0d.js"><link rel="prefetch" href="/assets/js/13.7d5054e0.js"><link rel="prefetch" href="/assets/js/130.82ec8ca8.js"><link rel="prefetch" href="/assets/js/131.25af9bac.js"><link rel="prefetch" href="/assets/js/132.8517ca6b.js"><link rel="prefetch" href="/assets/js/133.f835df32.js"><link rel="prefetch" href="/assets/js/134.65e4285e.js"><link rel="prefetch" href="/assets/js/135.d5ae9ddf.js"><link rel="prefetch" href="/assets/js/136.b4809f7f.js"><link rel="prefetch" href="/assets/js/137.4a9d350b.js"><link rel="prefetch" href="/assets/js/138.0817585f.js"><link rel="prefetch" href="/assets/js/139.25212b17.js"><link rel="prefetch" href="/assets/js/14.dfdc52dc.js"><link rel="prefetch" href="/assets/js/140.f61db2a2.js"><link rel="prefetch" href="/assets/js/141.4d216e94.js"><link rel="prefetch" href="/assets/js/142.51c5e63e.js"><link rel="prefetch" href="/assets/js/143.5728dc3f.js"><link rel="prefetch" href="/assets/js/144.f287e90f.js"><link rel="prefetch" href="/assets/js/145.1cf839cb.js"><link rel="prefetch" href="/assets/js/146.23f4f258.js"><link rel="prefetch" href="/assets/js/147.d39c4f95.js"><link rel="prefetch" href="/assets/js/148.b1a175dc.js"><link rel="prefetch" href="/assets/js/149.a52de27b.js"><link rel="prefetch" href="/assets/js/15.4f0aba52.js"><link rel="prefetch" href="/assets/js/150.10168789.js"><link rel="prefetch" href="/assets/js/151.712cd6a8.js"><link rel="prefetch" href="/assets/js/152.3fe32db9.js"><link rel="prefetch" href="/assets/js/153.58f830dd.js"><link rel="prefetch" href="/assets/js/154.f5506c0b.js"><link rel="prefetch" href="/assets/js/155.715a7171.js"><link rel="prefetch" href="/assets/js/156.c373b316.js"><link rel="prefetch" href="/assets/js/157.7ae757e4.js"><link rel="prefetch" href="/assets/js/158.8547baa5.js"><link rel="prefetch" href="/assets/js/159.9236e9b2.js"><link rel="prefetch" href="/assets/js/16.401bab98.js"><link rel="prefetch" href="/assets/js/160.38f02fa7.js"><link rel="prefetch" href="/assets/js/161.33cfc804.js"><link rel="prefetch" href="/assets/js/162.b936f336.js"><link rel="prefetch" href="/assets/js/163.457054d9.js"><link rel="prefetch" href="/assets/js/164.d8f480fd.js"><link rel="prefetch" href="/assets/js/165.8d33e67c.js"><link rel="prefetch" href="/assets/js/166.24fd6fff.js"><link rel="prefetch" href="/assets/js/167.a71cfd81.js"><link rel="prefetch" href="/assets/js/168.f195e962.js"><link rel="prefetch" href="/assets/js/169.a233777b.js"><link rel="prefetch" href="/assets/js/17.ff1a5c44.js"><link rel="prefetch" href="/assets/js/170.e9f4408c.js"><link rel="prefetch" href="/assets/js/171.59c967e2.js"><link rel="prefetch" href="/assets/js/172.822a3819.js"><link rel="prefetch" href="/assets/js/173.c37db229.js"><link rel="prefetch" href="/assets/js/174.333678df.js"><link rel="prefetch" href="/assets/js/175.7c0f4462.js"><link rel="prefetch" href="/assets/js/176.29ec561f.js"><link rel="prefetch" href="/assets/js/177.66c9abc0.js"><link rel="prefetch" href="/assets/js/178.7ac94227.js"><link rel="prefetch" href="/assets/js/179.84edddc4.js"><link rel="prefetch" href="/assets/js/18.48189038.js"><link rel="prefetch" href="/assets/js/180.f9200d00.js"><link rel="prefetch" href="/assets/js/181.3dbd3f3d.js"><link rel="prefetch" href="/assets/js/182.92327331.js"><link rel="prefetch" href="/assets/js/183.6f4a7fa6.js"><link rel="prefetch" href="/assets/js/184.23cc8f2b.js"><link rel="prefetch" href="/assets/js/185.13f68d36.js"><link rel="prefetch" href="/assets/js/186.fee33fbb.js"><link rel="prefetch" href="/assets/js/187.45622918.js"><link rel="prefetch" href="/assets/js/188.d660fe0b.js"><link rel="prefetch" href="/assets/js/189.d66284c8.js"><link rel="prefetch" href="/assets/js/19.fe215aac.js"><link rel="prefetch" href="/assets/js/190.47c4010f.js"><link rel="prefetch" href="/assets/js/191.43e428b5.js"><link rel="prefetch" href="/assets/js/192.204764f1.js"><link rel="prefetch" href="/assets/js/193.5ba3e1f7.js"><link rel="prefetch" href="/assets/js/194.994dc46d.js"><link rel="prefetch" href="/assets/js/195.089189c2.js"><link rel="prefetch" href="/assets/js/196.dcb90b2f.js"><link rel="prefetch" href="/assets/js/197.f08d0d50.js"><link rel="prefetch" href="/assets/js/198.556c32f1.js"><link rel="prefetch" href="/assets/js/199.31bd0633.js"><link rel="prefetch" href="/assets/js/20.d701da2a.js"><link rel="prefetch" href="/assets/js/200.723aec7c.js"><link rel="prefetch" href="/assets/js/201.66d2af64.js"><link rel="prefetch" href="/assets/js/202.8edb3a46.js"><link rel="prefetch" href="/assets/js/203.ff89198b.js"><link rel="prefetch" href="/assets/js/204.193ae8af.js"><link rel="prefetch" href="/assets/js/205.c829f1c5.js"><link rel="prefetch" href="/assets/js/206.37bea224.js"><link rel="prefetch" href="/assets/js/207.db95cc40.js"><link rel="prefetch" href="/assets/js/208.97270da0.js"><link rel="prefetch" href="/assets/js/209.c0683036.js"><link rel="prefetch" href="/assets/js/21.1080a5de.js"><link rel="prefetch" href="/assets/js/210.93d642a2.js"><link rel="prefetch" href="/assets/js/211.5901dc1b.js"><link rel="prefetch" href="/assets/js/212.4f664375.js"><link rel="prefetch" href="/assets/js/213.fa04deb5.js"><link rel="prefetch" href="/assets/js/214.7b142a2c.js"><link rel="prefetch" href="/assets/js/215.7803263b.js"><link rel="prefetch" href="/assets/js/216.64db2edb.js"><link rel="prefetch" href="/assets/js/217.b41dbc99.js"><link rel="prefetch" href="/assets/js/218.e9327b94.js"><link rel="prefetch" href="/assets/js/219.63d9aab5.js"><link rel="prefetch" href="/assets/js/22.76e06f13.js"><link rel="prefetch" href="/assets/js/220.003286bb.js"><link rel="prefetch" href="/assets/js/221.b8b15996.js"><link rel="prefetch" href="/assets/js/222.0a20e90e.js"><link rel="prefetch" href="/assets/js/223.a19bafae.js"><link rel="prefetch" href="/assets/js/224.e9bcab46.js"><link rel="prefetch" href="/assets/js/225.5a36176a.js"><link rel="prefetch" href="/assets/js/226.be890eda.js"><link rel="prefetch" href="/assets/js/227.0e73737e.js"><link rel="prefetch" href="/assets/js/228.44593996.js"><link rel="prefetch" href="/assets/js/229.01729fa1.js"><link rel="prefetch" href="/assets/js/23.7076ecb8.js"><link rel="prefetch" href="/assets/js/24.d236b1c8.js"><link rel="prefetch" href="/assets/js/25.085e91d6.js"><link rel="prefetch" href="/assets/js/26.8c2f26f2.js"><link rel="prefetch" href="/assets/js/27.a1e3cc80.js"><link rel="prefetch" href="/assets/js/28.6c00042a.js"><link rel="prefetch" href="/assets/js/29.cfd8d697.js"><link rel="prefetch" href="/assets/js/3.b6a2a037.js"><link rel="prefetch" href="/assets/js/30.3d728bce.js"><link rel="prefetch" href="/assets/js/31.526dedbf.js"><link rel="prefetch" href="/assets/js/32.6b3ecd17.js"><link rel="prefetch" href="/assets/js/33.cabdeeb0.js"><link rel="prefetch" href="/assets/js/34.fa91d53d.js"><link rel="prefetch" href="/assets/js/35.c66844f8.js"><link rel="prefetch" href="/assets/js/36.3fa680ce.js"><link rel="prefetch" href="/assets/js/37.a92ad777.js"><link rel="prefetch" href="/assets/js/38.e7cc8ec1.js"><link rel="prefetch" href="/assets/js/39.2796c271.js"><link rel="prefetch" href="/assets/js/4.e81d099d.js"><link rel="prefetch" href="/assets/js/40.daf5b79e.js"><link rel="prefetch" href="/assets/js/41.eef20117.js"><link rel="prefetch" href="/assets/js/42.e8f1e994.js"><link rel="prefetch" href="/assets/js/43.f61d31c8.js"><link rel="prefetch" href="/assets/js/44.8dbd447e.js"><link rel="prefetch" href="/assets/js/45.66449725.js"><link rel="prefetch" href="/assets/js/46.4af09bf8.js"><link rel="prefetch" href="/assets/js/47.1289bfb2.js"><link rel="prefetch" href="/assets/js/48.a4fb9dbd.js"><link rel="prefetch" href="/assets/js/49.8751b36a.js"><link rel="prefetch" href="/assets/js/5.c08ba69c.js"><link rel="prefetch" href="/assets/js/50.75e594dd.js"><link rel="prefetch" href="/assets/js/51.3d254128.js"><link rel="prefetch" href="/assets/js/52.9c1413b9.js"><link rel="prefetch" href="/assets/js/53.5a3597d7.js"><link rel="prefetch" href="/assets/js/54.0d47034c.js"><link rel="prefetch" href="/assets/js/55.6d652079.js"><link rel="prefetch" href="/assets/js/56.ecc52ae0.js"><link rel="prefetch" href="/assets/js/57.ecfbc927.js"><link rel="prefetch" href="/assets/js/58.7cd62408.js"><link rel="prefetch" href="/assets/js/59.204705c1.js"><link rel="prefetch" href="/assets/js/6.6c5dca8e.js"><link rel="prefetch" href="/assets/js/60.b40b1d39.js"><link rel="prefetch" href="/assets/js/61.0b04acf8.js"><link rel="prefetch" href="/assets/js/62.7fbeb25d.js"><link rel="prefetch" href="/assets/js/63.b709d9fc.js"><link rel="prefetch" href="/assets/js/64.e183bd0e.js"><link rel="prefetch" href="/assets/js/65.c89124e0.js"><link rel="prefetch" href="/assets/js/66.caa96c79.js"><link rel="prefetch" href="/assets/js/67.11d21c7a.js"><link rel="prefetch" href="/assets/js/68.be82890e.js"><link rel="prefetch" href="/assets/js/69.14649e16.js"><link rel="prefetch" href="/assets/js/7.9d17a6f4.js"><link rel="prefetch" href="/assets/js/70.a7391131.js"><link rel="prefetch" href="/assets/js/71.437f0d23.js"><link rel="prefetch" href="/assets/js/72.5d8001be.js"><link rel="prefetch" href="/assets/js/73.a4a5d2ac.js"><link rel="prefetch" href="/assets/js/74.cd496622.js"><link rel="prefetch" href="/assets/js/75.773ff345.js"><link rel="prefetch" href="/assets/js/76.176d2fa0.js"><link rel="prefetch" href="/assets/js/77.c38d66f9.js"><link rel="prefetch" href="/assets/js/78.8ca89620.js"><link rel="prefetch" href="/assets/js/79.21f0b5ad.js"><link rel="prefetch" href="/assets/js/8.61c359d6.js"><link rel="prefetch" href="/assets/js/80.e75ea7ff.js"><link rel="prefetch" href="/assets/js/81.48187974.js"><link rel="prefetch" href="/assets/js/82.0f048d77.js"><link rel="prefetch" href="/assets/js/83.d2b53680.js"><link rel="prefetch" href="/assets/js/84.0aba3b37.js"><link rel="prefetch" href="/assets/js/86.b07deb45.js"><link rel="prefetch" href="/assets/js/87.3ea155a5.js"><link rel="prefetch" href="/assets/js/88.0369b082.js"><link rel="prefetch" href="/assets/js/89.8d286a9e.js"><link rel="prefetch" href="/assets/js/9.b44b1047.js"><link rel="prefetch" href="/assets/js/90.6cb0b442.js"><link rel="prefetch" href="/assets/js/91.3bd0ca3f.js"><link rel="prefetch" href="/assets/js/92.e244701b.js"><link rel="prefetch" href="/assets/js/93.ec9d3001.js"><link rel="prefetch" href="/assets/js/94.517396bc.js"><link rel="prefetch" href="/assets/js/95.570e2963.js"><link rel="prefetch" href="/assets/js/96.d4608a89.js"><link rel="prefetch" href="/assets/js/97.4814fa03.js"><link rel="prefetch" href="/assets/js/98.b57acf57.js"><link rel="prefetch" href="/assets/js/99.662fa199.js">
    <link rel="stylesheet" href="/assets/css/0.styles.30ce95d4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="前端AK君" class="logo"> <span class="site-name can-hide">前端AK君</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/kongyajie" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/kongyajie" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JS进阶</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>前端框架</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/article/前端框架/vue/Vue系列之1-概览.html" class="sidebar-link">Vue系列之1-概览</a></li><li><a href="/article/前端框架/vue/Vue系列之2-使用.html" class="sidebar-link">Vue系列之2-使用</a></li><li><a href="/article/前端框架/vue/Vue系列之3-周边工具.html" class="sidebar-link">Vue系列之3-周边工具</a></li><li><a href="/article/前端框架/vue/Vue系列之4-原理.html" class="sidebar-link">Vue系列之4-原理</a></li><li><a href="/article/前端框架/vue/Vue系列之5-常见问题.html" class="sidebar-link">Vue系列之5-常见问题</a></li><li><a href="/article/前端框架/vue/Vue系列之6-Vue3.html" class="sidebar-link">Vue系列之6-Vue3</a></li><li><a href="/article/前端框架/react/React系列之1-概览.html" class="sidebar-link">React系列之1-概览</a></li><li><a href="/article/前端框架/react/React系列之2-使用.html" class="active sidebar-link">React系列之2-使用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/article/前端框架/react/React系列之2-使用.html#前言" class="sidebar-link">前言</a></li><li class="sidebar-sub-header"><a href="/article/前端框架/react/React系列之2-使用.html#一、安装" class="sidebar-link">一、安装</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/article/前端框架/react/React系列之2-使用.html#_1、引入cdn文件" class="sidebar-link">1、引入CDN文件</a></li><li class="sidebar-sub-header"><a href="/article/前端框架/react/React系列之2-使用.html#_2、使用-create-react-app-快速构建-react-开发环境" class="sidebar-link">2、使用 create-react-app 快速构建 React 开发环境</a></li></ul></li><li class="sidebar-sub-header"><a href="/article/前端框架/react/React系列之2-使用.html#二、基础使用" class="sidebar-link">二、基础使用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/article/前端框架/react/React系列之2-使用.html#_1、jsx语法" class="sidebar-link">1、JSX语法：</a></li><li class="sidebar-sub-header"><a href="/article/前端框架/react/React系列之2-使用.html#_2、条件判断" class="sidebar-link">2、条件判断</a></li><li class="sidebar-sub-header"><a href="/article/前端框架/react/React系列之2-使用.html#_3、渲染列表" class="sidebar-link">3、渲染列表</a></li><li class="sidebar-sub-header"><a href="/article/前端框架/react/React系列之2-使用.html#_4、事件处理-需注意this指向" class="sidebar-link">4、事件处理（需注意this指向）</a></li><li class="sidebar-sub-header"><a href="/article/前端框架/react/React系列之2-使用.html#_5、表单-受控组件" class="sidebar-link">5、表单（受控组件）</a></li><li class="sidebar-sub-header"><a href="/article/前端框架/react/React系列之2-使用.html#_6、props" class="sidebar-link">6、props</a></li><li class="sidebar-sub-header"><a href="/article/前端框架/react/React系列之2-使用.html#_7、state和setstate" class="sidebar-link">7、state和setState</a></li></ul></li><li class="sidebar-sub-header"><a href="/article/前端框架/react/React系列之2-使用.html#三、组件" class="sidebar-link">三、组件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/article/前端框架/react/React系列之2-使用.html#函数组件-vs-class组件" class="sidebar-link">函数组件 vs Class组件</a></li></ul></li><li class="sidebar-sub-header"><a href="/article/前端框架/react/React系列之2-使用.html#四、高级特性" class="sidebar-link">四、高级特性</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/article/前端框架/react/React系列之2-使用.html#_1、函数组件" class="sidebar-link">1、函数组件</a></li><li class="sidebar-sub-header"><a href="/article/前端框架/react/React系列之2-使用.html#_2、受控和非受控组件" class="sidebar-link">2、受控和非受控组件</a></li><li class="sidebar-sub-header"><a href="/article/前端框架/react/React系列之2-使用.html#_3、portals-传送门-把一个东西传给另一个东西" class="sidebar-link">3、portals（传送门，把一个东西传给另一个东西）</a></li><li class="sidebar-sub-header"><a href="/article/前端框架/react/React系列之2-使用.html#_4、context" class="sidebar-link">4、context</a></li><li class="sidebar-sub-header"><a href="/article/前端框架/react/React系列之2-使用.html#_5、异步组件" class="sidebar-link">5、异步组件</a></li><li class="sidebar-sub-header"><a href="/article/前端框架/react/React系列之2-使用.html#_6、性能优化" class="sidebar-link">6、性能优化</a></li><li class="sidebar-sub-header"><a href="/article/前端框架/react/React系列之2-使用.html#_7、组件公共部分抽离" class="sidebar-link">7、组件公共部分抽离</a></li></ul></li><li class="sidebar-sub-header"><a href="/article/前端框架/react/React系列之2-使用.html#总结" class="sidebar-link">总结</a></li><li class="sidebar-sub-header"><a href="/article/前端框架/react/React系列之2-使用.html#参考资料" class="sidebar-link">参考资料</a></li></ul></li><li><a href="/article/前端框架/react/React系列之3-周边工具.html" class="sidebar-link">React系列之3-周边工具</a></li><li><a href="/article/前端框架/react/React系列之4-原理.html" class="sidebar-link">React系列之4-原理</a></li><li><a href="/article/前端框架/react/React系列之5-常见问题.html" class="sidebar-link">React系列之5-常见问题</a></li><li><a href="/article/前端框架/react/React系列之6-hooks.html" class="sidebar-link">React系列之6-hooks</a></li><li><a href="/article/前端框架/webpack/webpack.html" class="sidebar-link">Webpack 笔记</a></li><li><a href="/article/前端框架/webpack/webpack分享.html" class="sidebar-link">Webpack分享</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据结构与算法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>设计模式</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端自检</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="react系列之2-使用"><a href="#react系列之2-使用" class="header-anchor">#</a> React系列之2-使用</h1> <h2 id="前言"><a href="#前言" class="header-anchor">#</a> 前言</h2> <p>本章主要内容：</p> <ul><li>安装</li> <li>基础使用</li> <li>组件</li> <li>高级特性</li></ul> <h2 id="一、安装"><a href="#一、安装" class="header-anchor">#</a> 一、安装</h2> <h3 id="_1、引入cdn文件"><a href="#_1、引入cdn文件" class="header-anchor">#</a> 1、引入CDN文件</h3> <ul><li>第一步，引入 <code>react.js</code> <code>react-dom.js</code> <code>babel.js</code>（用于JSX支持）</li> <li>第二步，添加一个 <code>id</code> 为 <code>root</code> 的 <code>div</code> 元素</li> <li>第三步，添加一段 script 代码，注意其中 type 属性 为 <code>text/babel</code></li></ul> <p>最终的HTML代码如下：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Hello React!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://unpkg.com/react@17/umd/react.development.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://unpkg.com/react-dom@17/umd/react-dom.development.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://unpkg.com/@babel/standalone/babel.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>root<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/babel<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>Hello<span class="token punctuation">,</span> React<span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span><span class="token punctuation">,</span>
    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="_2、使用-create-react-app-快速构建-react-开发环境"><a href="#_2、使用-create-react-app-快速构建-react-开发环境" class="header-anchor">#</a> 2、使用 <code>create-react-app</code> 快速构建 React 开发环境</h3> <p>Create React App 是一个用于学习 React 的舒适环境，也是用 React 创建<strong>新的单页应用</strong>的最佳方式。</p> <p>它会配置你的开发环境，以便使你能够使用最新的 JavaScript 特性，提供良好的开发体验，并为生产环境优化你的应用程序。你需要在你的机器上安装 <code>Node &gt;= 8.10 和 npm &gt;= 5.6</code>。要创建项目，请执行：</p> <p>执行以下命令创建项目：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>npx create-react-app my-app
<span class="token builtin class-name">cd</span> my-app
<span class="token function">npm</span> start
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>项目的目录结构如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>my-app/
  README.md
  node_modules/
  package.json
  .gitignore
  public/
    favicon.ico
    index.html
    manifest.json
  src/
    App.css
    App.js
    App.test.js
    index.css
    index.js
    logo.svg
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>manifest.json 指定了开始页面 index.html，一切的开始都从这里开始，所以这个是代码执行的源头。</p> <p>尝试修改 src/App.js 文件代码：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> logo <span class="token keyword">from</span> <span class="token string">'./logo.svg'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">'./App.css'</span><span class="token punctuation">;</span>
 
<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;App&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;App-header&quot;</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token punctuation">{</span>logo<span class="token punctuation">}</span> className<span class="token operator">=</span><span class="token string">&quot;App-logo&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;logo&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span>Hello React<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>p className<span class="token operator">=</span><span class="token string">&quot;App-intro&quot;</span><span class="token operator">&gt;</span>
          你可以在 <span class="token operator">&lt;</span>code<span class="token operator">&gt;</span>src<span class="token operator">/</span>App<span class="token punctuation">.</span>js<span class="token operator">&lt;</span><span class="token operator">/</span>code<span class="token operator">&gt;</span> 文件中修改。
        <span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
 
<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h2 id="二、基础使用"><a href="#二、基础使用" class="header-anchor">#</a> 二、基础使用</h2> <h3 id="_1、jsx语法"><a href="#_1、jsx语法" class="header-anchor">#</a> 1、JSX语法：</h3> <p>变量表达式/class/style/子元素和组件</p> <ul><li>使用 <code>className</code> 代替 <code>class</code> ，因为 <code>class</code> 是JS中的保留字</li> <li>属性和方法需要使用驼峰写法，比如 <code>onclick</code> -&gt; <code>onClick</code></li> <li>使用 <code>{}</code> 表示内部为JS表达式</li> <li>注意：<code>false</code>, <code>null</code>, <code>undefined</code>, 和 <code>true</code> 是合法的子元素，但它们并不会被渲染，而 <code>0</code> 会被渲染</li></ul> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> rawHtml <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;span&gt;This demo is about JSX&lt;/span&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> rawHtmlData <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">__html</span><span class="token operator">:</span> rawHtml
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token punctuation">{</span><span class="token comment">/* 插值 */</span><span class="token punctuation">}</span><span class="token plain-text">

        </span><span class="token punctuation">{</span><span class="token comment">/* 获取state变量 */</span><span class="token punctuation">}</span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">My name is </span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

        </span><span class="token punctuation">{</span><span class="token comment">/* 表达式 */</span><span class="token punctuation">}</span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Am I a male ： </span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>flag <span class="token operator">?</span> <span class="token string">'Yes'</span> <span class="token operator">:</span> <span class="token string">'No'</span> <span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

        </span><span class="token punctuation">{</span><span class="token comment">/* class */</span><span class="token punctuation">}</span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>red<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Hello React</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

        </span><span class="token punctuation">{</span><span class="token comment">/* style */</span><span class="token punctuation">}</span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'red'</span><span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">So glad you're here.</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

        </span><span class="token punctuation">{</span><span class="token comment">/* 原生html */</span><span class="token punctuation">}</span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>rawHtml<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">dangerouslySetInnerHTML</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>rawHtmlData<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h3 id="_2、条件判断"><a href="#_2、条件判断" class="header-anchor">#</a> 2、条件判断</h3> <ul><li>&amp;&amp;写法（常用）</li> <li>三元表达式</li></ul> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token punctuation">{</span><span class="token comment">/* &amp;&amp;写法 */</span><span class="token punctuation">}</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>flag <span class="token operator">&amp;&amp;</span> yes<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>

<span class="token punctuation">{</span><span class="token comment">/* 三元表达式写法 */</span><span class="token punctuation">}</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>flag <span class="token operator">?</span> yes <span class="token operator">:</span> no <span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_3、渲染列表"><a href="#_3、渲染列表" class="header-anchor">#</a> 3、渲染列表</h3> <p>1、使用 <code>arr.map</code> 进行迭代，对比 vue 使用 <code>v-for</code>
2、item,index同vue
3、注意加 <strong>key</strong> ，必填，不能是 index 或 random ，同vue
4、可使用 <code>arr.filter</code> 过滤</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>list<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>
      <span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>id<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token plain-text">、My name is </span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token plain-text">, I'm </span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>gender<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
      <span class="token punctuation">)</span> 
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="_4、事件处理-需注意this指向"><a href="#_4、事件处理-需注意this指向" class="header-anchor">#</a> 4、事件处理（需注意this指向）</h3> <ul><li>React 事件的命名采用小驼峰式（camelCase），而不是纯小写，如 <code>onclick</code> =&gt; <code>onClick</code></li> <li>使用 JSX 语法时你需要传入一个函数作为事件处理函数，而不是一个字符串。</li> <li>处理未 this 为 undefined 的问题：
<ul><li><code>handler = ()=&gt;{}</code> （在元素上写，或函数定义写时均可）</li> <li><code>handler.bind(this)</code> （在元素上写，或函数定义写时均可）</li></ul></li> <li>不能通过 <code>return false</code> 的方式阻止默认行为，而必须显式的使用 <code>preventDefault</code></li> <li>一些键盘事件如 <code>onKeyDown</code> <code>onKeyPress</code> <code>onKeyUp</code></li></ul> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">2</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// reset() {</span>
<span class="token comment">//   this.setState({</span>
<span class="token comment">//     count: 0</span>
<span class="token comment">//   })</span>
<span class="token comment">// }</span>
<span class="token function-variable function">reset</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span><span class="token comment">/* 事件处理 */</span><span class="token punctuation">}</span><span class="token plain-text">

      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Add</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

      </span><span class="token punctuation">{</span><span class="token comment">/* &lt;button onClick={() =&gt; {this.reset()}}&gt;Reset&lt;/button&gt; */</span><span class="token punctuation">}</span><span class="token plain-text">

      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>reset<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Reset</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h3 id="_5、表单-受控组件"><a href="#_5、表单-受控组件" class="header-anchor">#</a> 5、表单（受控组件）</h3> <blockquote><p>受控组件：表单输入元素，<strong>组件控制输入后的更新</strong>，组件内部维护state</p></blockquote> <ul><li><p>props vs state</p> <ul><li>props（自上而下，父级传入，无法修改）</li> <li>state（对应vue中的data，组件内维护）
State 与 props 类似，但是 state 是私有的，并且完全受控于当前组件。</li></ul></li> <li><p>如何选择使用props还是state？</p> <ul><li>该数据是否是由父组件通过 props 传递而来的？如果是，那它应该不是 state。</li> <li>该数据是否随时间的推移而保持不变？如果是，那它应该也不是 state。</li> <li>你能否根据其他 state 或 props 计算出该数据的值？如果是，那它也不是 state。</li></ul></li></ul> <h3 id="_6、props"><a href="#_6、props" class="header-anchor">#</a> 6、props</h3> <ul><li>类型检查</li></ul> <h3 id="_7、state和setstate"><a href="#_7、state和setstate" class="header-anchor">#</a> 7、state和setState</h3> <p>state是不可变值，要保证不会修改state，要牢记一些数组和对象的API方法：</p> <p><strong>数组</strong></p> <ul><li>this.state.list.concat(100) // 追加</li> <li>[...this.state.list, 100] // 追加</li> <li>this.state.slice(0,3) // 截取</li> <li>this.state.list.filter(item =&gt; item &gt; 100) // 筛选</li> <li>copy // 其他操作</li> <li>注意，不能直接对 this.state.list 进行 push pop splice 等，这样违反不可变值</li></ul> <p><strong>对象</strong></p> <ul><li>Object.assign({}, this.state.obj1, {a:100})</li> <li>{...this.state.obj2, a:100}</li> <li>注意，不能直接对 this.state.obj 进行属性设置，这样违反不可变值</li></ul> <p><strong>setState三件事</strong></p> <ul><li>不要直接修改state</li> <li>state的更新可能是异步的</li> <li>state的更新会被合并</li></ul> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// 1、普通更新</span>
<span class="token comment">// this.setState({</span>
<span class="token comment">//   count: this.state.count + 1</span>
<span class="token comment">// })</span>

<span class="token comment">// 2、普通更新+nextTick</span>
<span class="token comment">// this.setState({</span>
<span class="token comment">//   count: this.state.count + 1</span>
<span class="token comment">// }, () =&gt; { // 类比 vue 中的 $nextTick()</span>
<span class="token comment">//   console.log('setState callback: ', this.state.count)  </span>
<span class="token comment">// })</span>
<span class="token comment">// console.log('current count: ', this.state.count)</span>

<span class="token comment">// 3、setState默认异步更新，异步更新中修改会被合并。传入对象，会被合并（类似 Object.assign ）。执行结果只一次 +1</span>
<span class="token comment">// this.setState({</span>
<span class="token comment">//   count: this.state.count + 1</span>
<span class="token comment">// })</span>
<span class="token comment">// this.setState({</span>
<span class="token comment">//   count: this.state.count + 1</span>
<span class="token comment">// })</span>
<span class="token comment">// this.setState({</span>
<span class="token comment">//   count: this.state.count + 1</span>
<span class="token comment">// })</span>

<span class="token comment">// 4、回调函数更新，不会被合并</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prevState<span class="token punctuation">,</span> props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">count</span><span class="token operator">:</span> prevState<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prevState<span class="token punctuation">,</span> props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">count</span><span class="token operator">:</span> prevState<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prevState<span class="token punctuation">,</span> props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">count</span><span class="token operator">:</span> prevState<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 5、setTimeout中，setState为同步更新，修改不会被合并</span>
<span class="token comment">// setTimeout(() =&gt; {</span>
<span class="token comment">//   this.setState({</span>
<span class="token comment">//     count: this.state.count + 1</span>
<span class="token comment">//   })</span>
<span class="token comment">//   this.setState({</span>
<span class="token comment">//     count: this.state.count + 1</span>
<span class="token comment">//   })</span>
<span class="token comment">//   this.setState({</span>
<span class="token comment">//     count: this.state.count + 1</span>
<span class="token comment">//   })</span>
<span class="token comment">// }, 100)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br></div></div><h2 id="三、组件"><a href="#三、组件" class="header-anchor">#</a> 三、组件</h2> <h3 id="函数组件-vs-class组件"><a href="#函数组件-vs-class组件" class="header-anchor">#</a> 函数组件 vs Class组件</h3> <p>定义组件最简单的方式就是编写 JavaScript 函数：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Welcome</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>Hello<span class="token punctuation">,</span> <span class="token punctuation">{</span>props<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>该函数是一个有效的 React 组件，因为它接收唯一带有数据的 “props”（代表属性）对象与并返回一个 React 元素。这类组件被称为“函数组件”，因为它本质上就是 JavaScript 函数。</p> <p>你同时还可以使用 ES6 的 class 来定义组件：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Welcome</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>Hello<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>生命周期</p> <ul><li>初始化阶段（初始化state和props）</li> <li>挂载阶段（componentWillMount -&gt; render -&gt; componentDidMount）</li> <li>更新阶段（shouldComponentUpdate -&gt; componentWillUpdate -&gt; render -&gt; componentDidUpdate）</li> <li>卸载阶段（componentWillUnmount）</li></ul> <p><a href="https://segmentfault.com/a/1190000021827650" target="_blank" rel="noopener noreferrer">React 生命周期详解<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>React Fiber（React16）</p> <ul><li>实际上是对React核心算法（调和过程）的重写</li> <li>背景：React15中渲染分为两个阶段，协调阶段和渲染阶段。协调阶段执行diff算法，纯JS计算；渲染器负责渲染DOM。问题是协调器是递归处理虚拟DOM的，又由于JS是单线程，性能较差。因此Fiber添加了调度器来优化协调过程，使用了 requestIdleCallback 机制进行任务拆分，提高了性能。</li></ul> <p><a href="https://segmentfault.com/a/1190000039189408" target="_blank" rel="noopener noreferrer">浅谈对 React Fiber 的理解<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="四、高级特性"><a href="#四、高级特性" class="header-anchor">#</a> 四、高级特性</h2> <h3 id="_1、函数组件"><a href="#_1、函数组件" class="header-anchor">#</a> 1、函数组件</h3> <p>纯函数组件 vs class组件</p> <ul><li>纯函数，输入props，输出JSX</li> <li>没有实例、没有声明周期、没有state</li> <li>不能扩展其他方法</li></ul> <h3 id="_2、受控和非受控组件"><a href="#_2、受控和非受控组件" class="header-anchor">#</a> 2、受控和非受控组件</h3> <blockquote><p>非受控组件的使用场景：必须使用DOM元素，setState实现不了的时，比如文件上传 <code>&lt;input type=&quot;file&quot;&gt;</code>，某些富文本编辑器，需要传入 DOM 元素</p></blockquote> <blockquote><p>优先使用受控组件，符合React设计原则；必须使用DOM时，使用非受控组件。</p></blockquote> <p>ref的使用</p> <ul><li>创建ref： <code>this.inputRef = React.createRef();</code></li> <li>将ref绑定到元素上：<code>&lt;div ref={this.inputRef}&gt;&lt;/div&gt;</code></li> <li>获取ref：<code>let dom = this.inputRef.current</code></li></ul> <h3 id="_3、portals-传送门-把一个东西传给另一个东西"><a href="#_3、portals-传送门-把一个东西传给另一个东西" class="header-anchor">#</a> 3、portals（传送门，把一个东西传给另一个东西）</h3> <blockquote><p>Portal 提供了一种将<strong>子节点渲染到存在于父组件以外</strong>的 DOM 节点的优秀的方案。</p></blockquote> <p>我们知道，组件默认会按照既定层次嵌套渲染。也就是说，父组件内的子组件，会被渲染在父组件对应的DOM内。但在某些场景下，可能需要将子组件渲染在父组件的DOM元素之外。比如：</p> <ul><li>父组件z-index值太小</li> <li>overview:hidden</li> <li>fixed需要放在body第一层级</li></ul> <p>Portal 使用类似hack的方式达到这一目的，但不会打乱编写时的组件结构。</p> <p>使用方式如下：</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code>ReactDOM<span class="token punctuation">.</span><span class="token function">createPortal</span><span class="token punctuation">(</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>children<span class="token punctuation">,</span>
    domNode
<span class="token punctuation">)</span>`
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_4、context"><a href="#_4、context" class="header-anchor">#</a> 4、context</h3> <blockquote><p>Context 就是跨组件层级传递数据，一个生产者 Provider 和若干个消费者 Consumer，和vue中的provider、inject效果一样</p></blockquote> <ul><li>公共信息（语言、主体）如何传递给每一个组件？</li> <li>用props太繁琐</li> <li>用redux小题大做</li></ul> <h3 id="_5、异步组件"><a href="#_5、异步组件" class="header-anchor">#</a> 5、异步组件</h3> <blockquote><p>性能优化</p></blockquote> <ul><li>import ()</li> <li>React.lazy</li> <li>React.Suspense</li></ul> <h3 id="_6、性能优化"><a href="#_6、性能优化" class="header-anchor">#</a> 6、性能优化</h3> <blockquote><p>性能优化对于 React 更加重要</p></blockquote> <p><strong>shouldComponentUpdate</strong></p> <blockquote><p>SCU默认返回true，即React默认重新渲染所有子组件
必须配合“不可变值“一起使用</p></blockquote> <p>为什么 react SCU的声明周期默认返回true？</p> <ul><li>SCU默认返回true：React默认父组件有更新，子组件则无条件也更新</li></ul> <p>还提供给用户返回false的能力？</p> <ul><li>简单的项目基本不需要考虑优化问题，需要优化时优化就对了</li></ul> <p><strong>pureComponent和memo</strong></p> <blockquote><p>由于深比较性能较差，所以 <code>pureComponent</code> 在 <code>SCU</code> 中实现了浅比较，而浅比较已经能满足大部分场景</p></blockquote> <blockquote><p>class组件使用pureComponent，默认就会在SCU中进行浅比较，以判断是否要更新</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">MyList</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>pureComponent</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>函数组件使用memo</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">MyComnent</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">/*使用props进行渲染*/</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">areEqual</span><span class="token punctuation">(</span><span class="token parameter">prevProps<span class="token punctuation">,</span> nextProps</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">/*比较prevProps和nextProps*/</span>
<span class="token punctuation">}</span>

React<span class="token punctuation">.</span><span class="token function">memo</span><span class="token punctuation">(</span>MyComponent<span class="token punctuation">,</span> areEqual<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>immutable.js</strong></p> <h3 id="_7、组件公共部分抽离"><a href="#_7、组件公共部分抽离" class="header-anchor">#</a> 7、组件公共部分抽离</h3> <ul><li>Mixin（React已弃用）</li> <li>高阶组件 HOC High Order Component</li> <li>Render Props</li></ul> <p><strong>HOC</strong></p> <ul><li>高阶组件不是一个功能，而是一种工厂模式</li> <li>模式简单，但会增加组件层级</li></ul> <p><strong>Render Props</strong></p> <ul><li>更高级，更优雅的实现方式</li> <li>代码简洁，学习成本较高</li></ul> <p><strong>HOC VS RenderProps</strong></p> <ul><li>按需使用</li></ul> <h2 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h2> <p>本章的代码库 <a href="https://gitee.com/AaronKong/learn-framework-project" target="_blank" rel="noopener noreferrer">learn-framework-project<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="参考资料"><a href="#参考资料" class="header-anchor">#</a> 参考资料</h2></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">1/5/2022, 9:25:14 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/article/前端框架/react/React系列之1-概览.html" class="prev">
        React系列之1-概览
      </a></span> <span class="next"><a href="/article/前端框架/react/React系列之3-周边工具.html">
        React系列之3-周边工具
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.a2d0ac2d.js" defer></script><script src="/assets/js/2.6d2266aa.js" defer></script><script src="/assets/js/85.7d57722c.js" defer></script>
  </body>
</html>
